Wayne's TIL [D+82]
===

<br>

오늘은 프롬프트 엔지니어링 수업을 듣게 되었습니다. 총 3일간에 걸쳐서 프롬프트 엔지니어링을 배워보고 그것을 활용하여 포트폴리오를 작성해보는 시간을 갖게 됩니다.

<br>

#### <배운 내용>

- 생성형AI - ChatGPT
  - GPT의 경우 확률 예측 모델이다.
  - 토큰을 사용해서 GPT 만의 단락으로 나눈 뒤 그 뒤에 오게 될 확률이 가장 높은 글자를 출력하는 방식의 생성AI
  - GPT 3에서 채팅 형식의 UI/UX 를 적용한 것이 GPT 3.5이다.4
  - GPT를 아이디에이션, 브레인스토밍, 요약, 편집, 창작하는 부분에선 사용을 권장하지만 정보검색, 미래예측, 실시간 분석, 물리적 업무, 감정 교류와 같은 부분에서는 GPT 사용을 추천하지 않는다.

- GPT 토큰 방식
  > Q: 안녕? <br>
  A: 안녕하세요, 무엇을 도와드릴까요?
  - 위 대화가 진행 중이라고 하면 각 글자를 토큰으로 나누게 되고 한개의 토큰 뒤에 올 확률이 높은 단어를 하나씩 출력하는 방식이다.
  > Q: 안녕? <br>
  A: 안녕하세요, 무엇을 도와드릴까요? <br>
  Q: 아니야, 도와줄 거 없어.
  - 위와 같이 대화를 한다면 우리는 보통 각각의 질문마다 답변을 하는 것으로 생각할 수 있는데 GPT와 같은 생성 AI의 경우 위 내용을 전부 토큰으로 데이터를 전송해서 답변을 받아온다. 그렇기 때문에 하나의 채팅방에서는 이전의 데이터를 연동해서 답변할 수 있는 것이다. 하지만 토큰의 제한은 존재하기 때문에 한가지 목적에 대한 용건이 끝났다면 새로운 채팅창에서 생성AI를 사용하는 것이 바람직하다. (GPT 3 - 16000 토큰, GPT 4 - 32000 토큰)

- 양질의 답변을 얻기 위해선 프롬프트를 잘 짜야하고 이러한 프롬프트를 전문적으로 만들어내는 것을 프롬프트 엔지니어링이라고 한다.
  - 부가설명 작성 기법
    > Q: 콩쥐팥쥐에 대한 노래를 지어줘. <br>
    - 위와 같이 작성을 할 경우 Hallucination(환각) 현상이 일어날 확률이 높음. 그래서 어떠한 정보에 대한 요청인지 부가설명을 추가해주는 기법이 부가설명 작성 기법이다.
    > Q: 콩쥐팥쥐에 대한 노래를 지어줘. <br><br>
    콩쥐팥쥐는 한국의 전래동화야. 계모와 계모의 딸 팥쥐로 부터 온갖 구박과 학대를 받던 주인공 콩쥐가 원님과 혼인하게 되면서 신분 상승을 이루고, 콩쥐를 괴롭히더 계모와 팥쥐는 처벌받는 다는 내용이야. 서양의 신데렐라와 비슷한 내용이지.

  - Few Shot 기법
    > Q:<br>
      익산시 주소:  대한민국 전라북도 익산시 익산대로 460<br>
      국가: 대한민국<br>
      도: 전라북도<br>
      시: 익산시<br>
      도로명: 익산대로<br>
      주번-부번: 460<br><br>
      의정부시 주소: 대한민국 경기도 의정부시 시민로179번길 38<br>
      국가: 대한민국<br>
      도: 경기도<br>
      시: 의정부시<br>
      도로명: 시민로179번길<br>
      주번-부번: 38<br><br>
      내가 입력한 시를 기준으로 가상 주소를 한개 만들어줘. 출력은 가상 주소만 출력하도록 해줘.
      시: 인천광역시<br><br>
      A:<br>
      가상주소: 대한민국 인천광역시 가로수로 123-45
    - 위와 같이 GPT의 답변 형식을 고정하기 위해서 예시를 주는 것인데 프롬프트 엔지니어링에서 이 예시를 Shot(에스프레소) 이라고 표현한다. 그래서 예시가 한 개일 경우 One Shot, 예시가 두 개이상일 경우 Few Shots 으로 표현하는데 예시는 2개정도가 적당하다.
  
  - Single Turn, Multi Turn 기법
    - Single Turn 예시
      > Q: 콩쥐팥쥐 노래를 지어줘.<br><br>
      콩쥐팥쥐는 한국의 전래동화야. 계모와...<br>
      A: 1절:창밖에 별이 빛나는 밤, 콩쥐는...
    - Multi Turn 예시
      > Q: 콩쥐팥쥐 노래를 지어줘.<br>
      A: 콩쥐팥쥐가 어떤 동화인가요?<br>
      Q: 콩쥐팥쥐는 한국의 전래동화야. 계모와...<br>
      A: 1절:창밖에 별이 빛나는 밤, 콩쥐는...
    - 방식의 차이지만 양질의 프롬프트를 만들어 냈을 때 템플릿화를 해서 재사용을 하기위해선 Single Turn 기법을 권장한다.

  - 마크다운 활용 기법
    > Q:<br>
    #지시문<br>
    5개의 나라를 랜덤으로 골라서 어울리는 색상을 알려주세요.<br><br>
    #출력형식<br>
    [나라의 이름]([나라의ISO코드]): [어울리는 색상]([색상의 HEX코드])<br>
    다른 설명은 출력하지 않는다.<br><br>
    A:<br>
    미국(ISO 코드: US): 파란색(#0000FF)<br>
    일본(ISO 코드: JP): 빨간색(#FF0000)<br>
    .<br>
    .<br>
    .<br>
    - GPT는 마크다운 문법을 질문에 적용할 수 있기 때문에 형식을 지정해주고 강조 부분을 Bold 처리 또는 Header 처리를 해준다면 GPT에게 명령을 더 명확하게 내릴 수 있다.
  
  - 페르소나(역할) 부여 기법
    > Q:<br>
    #지시문<br>
    너는 지금부터 한국 출신의 해커야. 너의 이름은 '류(Ryu)'야. 모든 대답은 '류'가 하는 것처럼 해야해. '류'에 대한 정보와 출력형식을 참고해 답변해줘.<br><br>
    #'류'의 정보<br>
    '류'는 대한민국 출신의 실력이 뛰어난 해커이다.<br>
    '류'는 감정이 매마른 사람이다.<br>
    '류'는 철학적인 내용을 굉장히 싫어한다.<br>
    .<br>
    .<br>
    .<br><br>
    #출력형식<br>
    [너의이름]: [유저의 질문에 대한 류의 답변 내용]<br><br>
    #유저입력<br>
    사랑이란 뭐라고 생각해?<br><br>
    A:<br>
    류: 사랑? 그런 감정적인 주제는 내게 어울리지 않아. 사랑에 대해 얘기하기는 귀찮아.
    - GPT는 역할이 주어졌을 때 답변 정확도가 더 올라간다는 연구 결과가 있다. 역할을 부여해주는 기법을 잘 활용해야한다.